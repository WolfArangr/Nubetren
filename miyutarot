<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tarot of the Day</title>
  <style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      background: linear-gradient(to right, #1f1c2c, #928dab);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 3em 1em;
      text-align: center;
    }

    h1, h2 {
      font-weight: normal;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 1em;
      padding: 1em 2em;
      margin: 1em;
      backdrop-filter: blur(8px);
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
      transition: transform 0.2s ease;
    }

    .card:hover {
      transform: scale(1.03);
    }

    .cards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
  </style>
</head>
<body>
  <h1>ðŸ”® Tarot Reading</h1>
  <h2>Card of the Week</h2>
  <div id="weekly" class="card"></div>

  <h2>Cards of the Day</h2>
  <div id="daily" class="cards"></div>

  <script>
    const tarotDeck = [
      "The Fool", "The Magician", "The High Priestess", "The Empress", "The Emperor", "The Hierophant",
      "The Lovers", "The Chariot", "Strength", "The Hermit", "Wheel of Fortune", "Justice",
      "The Hanged Man", "Death", "Temperance", "The Devil", "The Tower", "The Star",
      "The Moon", "The Sun", "Judgement", "The World",
      "Ace of Wands", "2 of Wands", "3 of Wands", "4 of Wands", "5 of Wands", "6 of Wands", "7 of Wands", "8 of Wands", "9 of Wands", "10 of Wands", "Page of Wands", "Knight of Wands", "Queen of Wands", "King of Wands",
      "Ace of Cups", "2 of Cups", "3 of Cups", "4 of Cups", "5 of Cups", "6 of Cups", "7 of Cups", "8 of Cups", "9 of Cups", "10 of Cups", "Page of Cups", "Knight of Cups", "Queen of Cups", "King of Cups",
      "Ace of Swords", "2 of Swords", "3 of Swords", "4 of Swords", "5 of Swords", "6 of Swords", "7 of Swords", "8 of Swords", "9 of Swords", "10 of Swords", "Page of Swords", "Knight of Swords", "Queen of Swords", "King of Swords",
      "Ace of Pentacles", "2 of Pentacles", "3 of Pentacles", "4 of Pentacles", "5 of Pentacles", "6 of Pentacles", "7 of Pentacles", "8 of Pentacles", "9 of Pentacles", "10 of Pentacles", "Page of Pentacles", "Knight of Pentacles", "Queen of Pentacles", "King of Pentacles"
    ];

    function seededShuffle(array, seed) {
      let a = array.slice();
      let random = mulberry32(seed);
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function mulberry32(seed) {
      return function() {
        let t = seed += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      }
    }

    function getWeekNumber(date) {
      const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
      const dayNum = d.getUTCDay() || 7;
      d.setUTCDate(d.getUTCDate() + 4 - dayNum);
      const yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
      return Math.ceil((((d - yearStart) / 86400000) + 1)/7);
    }

    function getTarotReadings() {
      const today = new Date();
      const year = today.getFullYear();
      const week = getWeekNumber(today);
      const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 86400000);

      // Weekly card: seeded by year + week
      const weekSeed = year * 100 + week;
      const weeklyDeck = seededShuffle(tarotDeck, weekSeed);
      const weeklyCard = weeklyDeck[week % weeklyDeck.length];

      // Daily cards: seeded by year + day
      const daySeed = year * 1000 + dayOfYear;
      const dailyDeck = seededShuffle(tarotDeck, daySeed);
      const dailyCards = dailyDeck.slice(0, 3);

      return { weeklyCard, dailyCards };
    }

    const readings = getTarotReadings();

    document.getElementById("weekly").innerText = readings.weeklyCard;
    const dailyContainer = document.getElementById("daily");
    readings.dailyCards.forEach(card => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerText = card;
      dailyContainer.appendChild(div);
    });
  </script>
</body>
</html>
